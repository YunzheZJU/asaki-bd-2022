<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>あさき生誕祭2022</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
<div id="asaki-bd-2022" style="opacity: 0"></div>
</body>
<script>
  const GLOBAL_BEGIN = 35
  const shouldForceRatio = true
  const shouldDisableRotate = true
  const RED = 'var(--red)'
  const BLUE = 'var(--blue)'
  const YELLOW = 'var(--yellow)'
  const GREEN = 'var(--green)'
  const PURPLE = 'var(--purple)'
  const BLACK = 'var(--black)'
  const WHITE = 'var(--white)'
  const FADE_IN = 'opacity_from_0_to_1'
  const FADE_OUT = 'opacity_from_1_to_0'
  const APP = document.querySelector('#asaki-bd-2022')
</script>
<script src="lib/ratio.js"></script>
<script src="lib/pre.js"></script>
<script src="scenes/s0.js"></script>
<script src="scenes/s1.js"></script>
<script src="scenes/s2.js"></script>
<script src="scenes/s3.js"></script>
<script src="scenes/s4.js"></script>
<script src="scenes/s5.js"></script>
<script src="scenes/s6.js"></script>
<script src="scenes/s7.js"></script>
<script src="scenes/s8.js"></script>
<script>
  APP.innerHTML += `
  <div class="s9">
    <div class="bg"></div>
    <div class="text-box-1" style="color: var(--balck);">
      <span>瞼</span>
      <span>を</span>
      <span>閉</span>
      <span>じ</span>
      <span>れ</span>
      <span>ば</span>
    </div>
    <div class="text-box-2" style="color: var(--balck);">
      <span>耳</span>
      <span>を</span>
      <span>澄</span>
      <span>ま</span>
      <span>せ</span>
      <span>ば</span>
    </div>
    <div class="mask">
      <div></div>
      <div></div>
    </div>
  </div>
`
  const s9_begin = s8_end
  s`.s9 .mask`.align(TOP, BOTTOM, LEFT, RIGHT)
  const s9_mask_easing_open = 'cubic-bezier(0.61, 1, 0.88, 1)'
  const s9_mask_easing_close = 'cubic-bezier(0.12, 0, 0.39, 0)'
  s`.s9 .mask div`.align(TOP, LEFT).size(FULL, '50p').clip('polygon(0% 0%, 100% 0%, 100% 80%, 0% 80%)').css({ background: 'radial-gradient(circle farthest-side at bottom, hsla(0, 100%, 100%, 0.15), hsla(0, 100%, 100%, 0) 80%) #192c30' })
                  .animate({ clip: ['polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)', 'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)'] }, { begin: s9_begin, dur: 0.5, fill: 'both', easing: s9_mask_easing_close }, 's9_mask_close_1')
                  .animate({ clip: ['polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)', 'polygon(0% 0%, 100% 0%, 100% 80%, 0% 80%)'] }, { begin: a.s9_mask_close_1.end, dur: 0.4, fill: 'forwards', easing: s9_mask_easing_open }, 's9_mask_open_1')
                  .animate({ clip: ['polygon(0% 0%, 100% 0%, 100% 80%, 0% 80%)', 'polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)'] }, { begin: a.s9_mask_open_1.end, dur: 0.3, fill: 'forwards', easing: s9_mask_easing_close }, 's9_mask_close_2')
                  .animate({ clip: ['polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)', 'polygon(0% 0%, 100% 0%, 100% 0%, 0% 0%)'] }, { begin: a.s9_mask_close_2.end, dur: 0.6, fill: 'forwards', easing: s9_mask_easing_open }, 's9_mask_open_2')
  s`.s9 .mask div`[1].translate_y('100p').rotate(180)
  s`.s9 .bg`.align(TOP, BOTTOM, LEFT, RIGHT).fill(WHITE)
            .animate(FADE_IN, { begin: a.s9_mask_close_1.end, dur: 0, fill: 'both' })
  s`.s9 .text-box-1`.align(TOP, BOTTOM, LEFT, RIGHT).align_children(CENTER, CENTER)
                  .animate(FADE_IN, { begin: a.s9_mask_close_1.end, dur: 0, fill: 'both' })
                  .animate(FADE_OUT, { begin: a.s9_mask_close_2.end, dur: 0, fill: 'forwards' })
  s`.s9 .text-box-2`.align(TOP, BOTTOM, LEFT, RIGHT).align_children(CENTER, CENTER)
                  .animate(FADE_IN, { begin: a.s9_mask_close_2.end, dur: 0, fill: 'both' })
</script>
<script>
  APP.style.opacity = 1
  window.addEventListener('dblclick', () => location.reload())
</script>
<script src="lib/post.js"></script>
</html>
